{"version":3,"file":"static/js/4473.3c05b4d8.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/identity/IdentityForm.js","../node_modules/tabbable/src/index.js","../node_modules/focus-trap/index.js","../node_modules/@arcgis/core/identity/IdentityModal.js","../node_modules/@arcgis/core/identity/OAuthCredential.js","../node_modules/@arcgis/core/identity/OAuthInfo.js","../node_modules/@arcgis/core/identity/ServerInfo.js","../node_modules/@arcgis/core/identity/IdentityManagerBase.js","../node_modules/@arcgis/core/identity/IdentityManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import{substitute as r}from\"../intl/substitute.js\";import o from\"../widgets/Widget.js\";import{storeNode as i}from\"../widgets/support/widgetUtils.js\";import{messageBundle as n}from\"../widgets/support/decorators/messageBundle.js\";import\"../core/Logger.js\";import{tsx as u}from\"../widgets/support/jsxFactory.js\";const a={base:\"esri-identity-form\",group:\"esri-identity-form__group\",label:\"esri-identity-form__label\",footer:\"esri-identity-form__footer\",esriInput:\"esri-input\",esriButton:\"esri-button\",esriButtonSecondary:\"esri-button--secondary\"},l=\"ArcGIS Online\";let p=class extends o{constructor(s,e){super(s,e),this._usernameInputNode=null,this._passwordInputNode=null,this.messages=null,this.signingIn=!1,this.server=null,this.resource=null,this.error=null,this.oAuthPrompt=!1}render(){const{error:s,server:e,resource:t,signingIn:o,oAuthPrompt:n,messages:p}=this,d=u(\"div\",{class:a.group},r(n?p.oAuthInfo:p.info,{server:/\\.arcgis\\.com/i.test(e)?l:e,resource:`(${t||p.lblItem})`})),c=n?null:u(\"div\",{class:a.group,key:\"username\"},u(\"label\",{class:a.label},p.lblUser,u(\"input\",{value:\"\",required:!0,autocomplete:\"off\",spellcheck:!1,type:\"text\",bind:this,afterCreate:i,\"data-node-ref\":\"_usernameInputNode\",class:a.esriInput}))),m=n?null:u(\"div\",{class:a.group,key:\"password\"},u(\"label\",{class:a.label},p.lblPwd,u(\"input\",{value:\"\",required:!0,type:\"password\",bind:this,afterCreate:i,\"data-node-ref\":\"_passwordInputNode\",class:a.esriInput}))),h=u(\"div\",{class:this.classes(a.group,a.footer)},u(\"input\",{type:\"submit\",disabled:!!o,value:o?p.lblSigning:p.lblOk,class:a.esriButton}),u(\"input\",{type:\"button\",value:p.lblCancel,bind:this,onclick:this._cancel,class:this.classes(a.esriButton,a.esriButtonSecondary)})),g=s?u(\"div\",null,s.details&&s.details.httpStatus?p.invalidUser:p.noAuthService):null;return u(\"form\",{class:a.base,bind:this,onsubmit:this._submit},d,g,c,m,h)}_cancel(){this._set(\"signingIn\",!1),this._usernameInputNode&&(this._usernameInputNode.value=\"\"),this._passwordInputNode&&(this._passwordInputNode.value=\"\"),this.emit(\"cancel\")}_submit(s){s.preventDefault(),this._set(\"signingIn\",!0);const e=this.oAuthPrompt?{}:{username:this._usernameInputNode&&this._usernameInputNode.value,password:this._passwordInputNode&&this._passwordInputNode.value};this.emit(\"submit\",e)}};s([e(),n(\"esri/identity/t9n/identity\")],p.prototype,\"messages\",void 0),s([e()],p.prototype,\"signingIn\",void 0),s([e()],p.prototype,\"server\",void 0),s([e()],p.prototype,\"resource\",void 0),s([e()],p.prototype,\"error\",void 0),s([e()],p.prototype,\"oAuthPrompt\",void 0),p=s([t(\"esri.identity.IdentityForm\")],p);const d=p;export{d as default};\n","const candidateSelectors = [\n  'input',\n  'select',\n  'textarea',\n  'a[href]',\n  'button',\n  '[tabindex]',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\"])',\n  'details>summary:first-of-type',\n  'details',\n];\nconst candidateSelector = /* #__PURE__ */ candidateSelectors.join(',');\n\nconst matches =\n  typeof Element === 'undefined'\n    ? function () {}\n    : Element.prototype.matches ||\n      Element.prototype.msMatchesSelector ||\n      Element.prototype.webkitMatchesSelector;\n\nconst getCandidates = function (el, includeContainer, filter) {\n  let candidates = Array.prototype.slice.apply(\n    el.querySelectorAll(candidateSelector)\n  );\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\nconst isContentEditable = function (node) {\n  return node.contentEditable === 'true';\n};\n\nconst getTabindex = function (node) {\n  const tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n\n  if (!isNaN(tabindexAttr)) {\n    return tabindexAttr;\n  }\n\n  // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n  if (isContentEditable(node)) {\n    return 0;\n  }\n\n  // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n  //  `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n  //  yet they are still part of the regular tab order; in FF, they get a default\n  //  `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n  //  order, consider their tab index to be 0.\n  if (\n    (node.nodeName === 'AUDIO' ||\n      node.nodeName === 'VIDEO' ||\n      node.nodeName === 'DETAILS') &&\n    node.getAttribute('tabindex') === null\n  ) {\n    return 0;\n  }\n\n  return node.tabIndex;\n};\n\nconst sortOrderedTabbables = function (a, b) {\n  return a.tabIndex === b.tabIndex\n    ? a.documentOrder - b.documentOrder\n    : a.tabIndex - b.tabIndex;\n};\n\nconst isInput = function (node) {\n  return node.tagName === 'INPUT';\n};\n\nconst isHiddenInput = function (node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nconst isDetailsWithSummary = function (node) {\n  const r =\n    node.tagName === 'DETAILS' &&\n    Array.prototype.slice\n      .apply(node.children)\n      .some((child) => child.tagName === 'SUMMARY');\n  return r;\n};\n\nconst getCheckedRadio = function (nodes, form) {\n  for (let i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nconst isTabbableRadio = function (node) {\n  if (!node.name) {\n    return true;\n  }\n  const radioScope = node.form || node.ownerDocument;\n\n  const queryRadios = function (name) {\n    return radioScope.querySelectorAll(\n      'input[type=\"radio\"][name=\"' + name + '\"]'\n    );\n  };\n\n  let radioSet;\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.CSS !== 'undefined' &&\n    typeof window.CSS.escape === 'function'\n  ) {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error(\n        'Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s',\n        err.message\n      );\n      return false;\n    }\n  }\n\n  const checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nconst isRadio = function (node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nconst isNonTabbableRadio = function (node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\nconst isHidden = function (node, displayCheck) {\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  const isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  const nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n  if (!displayCheck || displayCheck === 'full') {\n    while (node) {\n      if (getComputedStyle(node).display === 'none') {\n        return true;\n      }\n      node = node.parentElement;\n    }\n  } else if (displayCheck === 'non-zero-area') {\n    const { width, height } = node.getBoundingClientRect();\n    return width === 0 && height === 0;\n  }\n\n  return false;\n};\n\n// form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\nconst isDisabledFromFieldset = function (node) {\n  if (\n    isInput(node) ||\n    node.tagName === 'SELECT' ||\n    node.tagName === 'TEXTAREA' ||\n    node.tagName === 'BUTTON'\n  ) {\n    let parentNode = node.parentElement;\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> as an immediate child of the disabled\n        //  <fieldset>: if the node is in that legend, it'll be enabled even\n        //  though the fieldset is disabled; otherwise, the node is in a\n        //  secondary/subsequent legend, or somewhere else within the fieldset\n        //  (however deep nested) and it'll be disabled\n        for (let i = 0; i < parentNode.children.length; i++) {\n          const child = parentNode.children.item(i);\n          if (child.tagName === 'LEGEND') {\n            if (child.contains(node)) {\n              return false;\n            }\n\n            // the node isn't in the first legend (in doc order), so no matter\n            //  where it is now, it'll be disabled\n            return true;\n          }\n        }\n\n        // the node isn't in a legend, so no matter where it is now, it'll be disabled\n        return true;\n      }\n\n      parentNode = parentNode.parentElement;\n    }\n  }\n\n  // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n  return false;\n};\n\nconst isNodeMatchingSelectorFocusable = function (options, node) {\n  if (\n    node.disabled ||\n    isHiddenInput(node) ||\n    isHidden(node, options.displayCheck) ||\n    // For a details element with a summary, the summary element gets the focus\n    isDetailsWithSummary(node) ||\n    isDisabledFromFieldset(node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isNodeMatchingSelectorTabbable = function (options, node) {\n  if (\n    !isNodeMatchingSelectorFocusable(options, node) ||\n    isNonTabbableRadio(node) ||\n    getTabindex(node) < 0\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst tabbable = function (el, options) {\n  options = options || {};\n\n  const regularTabbables = [];\n  const orderedTabbables = [];\n\n  const candidates = getCandidates(\n    el,\n    options.includeContainer,\n    isNodeMatchingSelectorTabbable.bind(null, options)\n  );\n\n  candidates.forEach(function (candidate, i) {\n    const candidateTabindex = getTabindex(candidate);\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate,\n      });\n    }\n  });\n\n  const tabbableNodes = orderedTabbables\n    .sort(sortOrderedTabbables)\n    .map((a) => a.node)\n    .concat(regularTabbables);\n\n  return tabbableNodes;\n};\n\nconst focusable = function (el, options) {\n  options = options || {};\n\n  const candidates = getCandidates(\n    el,\n    options.includeContainer,\n    isNodeMatchingSelectorFocusable.bind(null, options)\n  );\n\n  return candidates;\n};\n\nconst isTabbable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nconst focusableCandidateSelector = /* #__PURE__ */ candidateSelectors\n  .concat('iframe')\n  .join(',');\n\nconst isFocusable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { tabbable, focusable, isTabbable, isFocusable };\n","import { tabbable, focusable, isFocusable, isTabbable } from 'tabbable';\n\nconst activeFocusTraps = (function () {\n  const trapQueue = [];\n  return {\n    activateTrap(trap) {\n      if (trapQueue.length > 0) {\n        const activeTrap = trapQueue[trapQueue.length - 1];\n        if (activeTrap !== trap) {\n          activeTrap.pause();\n        }\n      }\n\n      const trapIndex = trapQueue.indexOf(trap);\n      if (trapIndex === -1) {\n        trapQueue.push(trap);\n      } else {\n        // move this existing trap to the front of the queue\n        trapQueue.splice(trapIndex, 1);\n        trapQueue.push(trap);\n      }\n    },\n\n    deactivateTrap(trap) {\n      const trapIndex = trapQueue.indexOf(trap);\n      if (trapIndex !== -1) {\n        trapQueue.splice(trapIndex, 1);\n      }\n\n      if (trapQueue.length > 0) {\n        trapQueue[trapQueue.length - 1].unpause();\n      }\n    },\n  };\n})();\n\nconst isSelectableInput = function (node) {\n  return (\n    node.tagName &&\n    node.tagName.toLowerCase() === 'input' &&\n    typeof node.select === 'function'\n  );\n};\n\nconst isEscapeEvent = function (e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n};\n\nconst isTabEvent = function (e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n};\n\nconst delay = function (fn) {\n  return setTimeout(fn, 0);\n};\n\n// Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\nconst findIndex = function (arr, fn) {\n  let idx = -1;\n\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n\n  return idx;\n};\n\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\nconst valueOrHandler = function (value, ...params) {\n  return typeof value === 'function' ? value(...params) : value;\n};\n\nconst getActualTarget = function (event) {\n  // NOTE: If the trap is _inside_ a shadow DOM, event.target will always be the\n  //  shadow host. However, event.target.composedPath() will be an array of\n  //  nodes \"clicked\" from inner-most (the actual element inside the shadow) to\n  //  outer-most (the host HTML document). If we have access to composedPath(),\n  //  then use its first element; otherwise, fall back to event.target (and\n  //  this only works for an _open_ shadow DOM; otherwise,\n  //  composedPath()[0] === event.target always).\n  return event.target.shadowRoot && typeof event.composedPath === 'function'\n    ? event.composedPath()[0]\n    : event.target;\n};\n\nconst createFocusTrap = function (elements, userOptions) {\n  // SSR: a live trap shouldn't be created in this type of environment so this\n  //  should be safe code to execute if the `document` option isn't specified\n  const doc = userOptions?.document || document;\n\n  const config = {\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true,\n    ...userOptions,\n  };\n\n  const state = {\n    // @type {Array<HTMLElement>}\n    containers: [],\n\n    // list of objects identifying the first and last tabbable nodes in all containers/groups in\n    //  the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{\n    //   container: HTMLElement,\n    //   firstTabbableNode: HTMLElement|null,\n    //   lastTabbableNode: HTMLElement|null,\n    //   nextTabbableNode: (node: HTMLElement, forward: boolean) => HTMLElement|undefined\n    // }>}\n    tabbableGroups: [],\n\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: undefined,\n  };\n\n  let trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  const getOption = (configOverrideOptions, optionName, configOptionName) => {\n    return configOverrideOptions &&\n      configOverrideOptions[optionName] !== undefined\n      ? configOverrideOptions[optionName]\n      : config[configOptionName || optionName];\n  };\n\n  const containersContain = function (element) {\n    return !!(\n      element &&\n      state.containers.some((container) => container.contains(element))\n    );\n  };\n\n  /**\n   * Gets the node for the given option, which is expected to be an option that\n   *  can be either a DOM node, a string that is a selector to get a node, `false`\n   *  (if a node is explicitly NOT given), or a function that returns any of these\n   *  values.\n   * @param {string} optionName\n   * @returns {undefined | false | HTMLElement | SVGElement} Returns\n   *  `undefined` if the option is not specified; `false` if the option\n   *  resolved to `false` (node explicitly not given); otherwise, the resolved\n   *  DOM node.\n   * @throws {Error} If the option is set, not `false`, and is not, or does not\n   *  resolve to a node.\n   */\n  const getNodeForOption = function (optionName, ...params) {\n    let optionValue = config[optionName];\n\n    if (typeof optionValue === 'function') {\n      optionValue = optionValue(...params);\n    }\n\n    if (!optionValue) {\n      if (optionValue === undefined || optionValue === false) {\n        return optionValue;\n      }\n      // else, empty string (invalid), null (invalid), 0 (invalid)\n\n      throw new Error(\n        `\\`${optionName}\\` was specified but was not a node, or did not return a node`\n      );\n    }\n\n    let node = optionValue; // could be HTMLElement, SVGElement, or non-empty string at this point\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue); // resolve to node, or null if fails\n      if (!node) {\n        throw new Error(\n          `\\`${optionName}\\` as selector refers to no known node`\n        );\n      }\n    }\n\n    return node;\n  };\n\n  const getInitialFocusNode = function () {\n    let node = getNodeForOption('initialFocus');\n\n    // false explicitly indicates we want no initialFocus at all\n    if (node === false) {\n      return false;\n    }\n\n    if (node === undefined) {\n      // option not specified: use fallback options\n      if (containersContain(doc.activeElement)) {\n        node = doc.activeElement;\n      } else {\n        const firstTabbableGroup = state.tabbableGroups[0];\n        const firstTabbableNode =\n          firstTabbableGroup && firstTabbableGroup.firstTabbableNode;\n\n        // NOTE: `fallbackFocus` option function cannot return `false` (not supported)\n        node = firstTabbableNode || getNodeForOption('fallbackFocus');\n      }\n    }\n\n    if (!node) {\n      throw new Error(\n        'Your focus-trap needs to have at least one focusable element'\n      );\n    }\n\n    return node;\n  };\n\n  const updateTabbableNodes = function () {\n    state.tabbableGroups = state.containers\n      .map((container) => {\n        const tabbableNodes = tabbable(container);\n\n        // NOTE: if we have tabbable nodes, we must have focusable nodes; focusable nodes\n        //  are a superset of tabbable nodes\n        const focusableNodes = focusable(container);\n\n        if (tabbableNodes.length > 0) {\n          return {\n            container,\n            firstTabbableNode: tabbableNodes[0],\n            lastTabbableNode: tabbableNodes[tabbableNodes.length - 1],\n\n            /**\n             * Finds the __tabbable__ node that follows the given node in the specified direction,\n             *  in this container, if any.\n             * @param {HTMLElement} node\n             * @param {boolean} [forward] True if going in forward tab order; false if going\n             *  in reverse.\n             * @returns {HTMLElement|undefined} The next tabbable node, if any.\n             */\n            nextTabbableNode(node, forward = true) {\n              // NOTE: If tabindex is positive (in order to manipulate the tab order separate\n              //  from the DOM order), this __will not work__ because the list of focusableNodes,\n              //  while it contains tabbable nodes, does not sort its nodes in any order other\n              //  than DOM order, because it can't: Where would you place focusable (but not\n              //  tabbable) nodes in that order? They have no order, because they aren't tabbale...\n              // Support for positive tabindex is already broken and hard to manage (possibly\n              //  not supportable, TBD), so this isn't going to make things worse than they\n              //  already are, and at least makes things better for the majority of cases where\n              //  tabindex is either 0/unset or negative.\n              // FYI, positive tabindex issue: https://github.com/focus-trap/focus-trap/issues/375\n              const nodeIdx = focusableNodes.findIndex((n) => n === node);\n              if (forward) {\n                return focusableNodes\n                  .slice(nodeIdx + 1)\n                  .find((n) => isTabbable(n));\n              }\n              return focusableNodes\n                .slice(0, nodeIdx)\n                .reverse()\n                .find((n) => isTabbable(n));\n            },\n          };\n        }\n\n        return undefined;\n      })\n      .filter((group) => !!group); // remove groups with no tabbable nodes\n\n    // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n    if (\n      state.tabbableGroups.length <= 0 &&\n      !getNodeForOption('fallbackFocus') // returning false not supported for this option\n    ) {\n      throw new Error(\n        'Your focus-trap must have at least one container with at least one tabbable node in it at all times'\n      );\n    }\n  };\n\n  const tryFocus = function (node) {\n    if (node === false) {\n      return;\n    }\n\n    if (node === doc.activeElement) {\n      return;\n    }\n\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus({ preventScroll: !!config.preventScroll });\n    state.mostRecentlyFocusedNode = node;\n\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n\n  const getReturnFocusNode = function (previousActiveElement) {\n    const node = getNodeForOption('setReturnFocus', previousActiveElement);\n    return node ? node : node === false ? false : previousActiveElement;\n  };\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n  const checkPointerDown = function (e) {\n    const target = getActualTarget(e);\n\n    if (containersContain(target)) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // if, on deactivation, we should return focus to the node originally-focused\n        //  when the trap was activated (or the configured `setReturnFocus` node),\n        //  then assume it's also OK to return focus to the outside node that was\n        //  just clicked, causing deactivation, as long as that node is focusable;\n        //  if it isn't focusable, then return focus to the original node focused\n        //  on activation (or the configured `setReturnFocus` node)\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked, whether it's focusable or not; by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node)\n        returnFocus: config.returnFocusOnDeactivate && !isFocusable(target),\n      });\n      return;\n    }\n\n    // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    }\n\n    // otherwise, prevent the click\n    e.preventDefault();\n  };\n\n  // In case focus escapes the trap for some strange reason, pull it back in.\n  const checkFocusIn = function (e) {\n    const target = getActualTarget(e);\n    const targetContained = containersContain(target);\n\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (targetContained || target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      e.stopImmediatePropagation();\n      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n    }\n  };\n\n  // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n  const checkTab = function (e) {\n    const target = getActualTarget(e);\n    updateTabbableNodes();\n\n    let destinationNode = null;\n\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      // NOTE: the target may also be the container itself if it's focusable\n      //  with tabIndex='-1' and was given initial focus\n      const containerIndex = findIndex(state.tabbableGroups, ({ container }) =>\n        container.contains(target)\n      );\n      const containerGroup =\n        containerIndex >= 0 ? state.tabbableGroups[containerIndex] : undefined;\n\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back in to...\n        if (e.shiftKey) {\n          // ...the last node in the last group\n          destinationNode =\n            state.tabbableGroups[state.tabbableGroups.length - 1]\n              .lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (e.shiftKey) {\n        // REVERSE\n\n        // is the target the first tabbable node in a group?\n        let startOfGroupIndex = findIndex(\n          state.tabbableGroups,\n          ({ firstTabbableNode }) => target === firstTabbableNode\n        );\n\n        if (\n          startOfGroupIndex < 0 &&\n          (containerGroup.container === target ||\n            (isFocusable(target) &&\n              !isTabbable(target) &&\n              !containerGroup.nextTabbableNode(target, false)))\n        ) {\n          // an exception case where the target is either the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle shift+tab as if focus were on the container's\n          //  first tabbable node, and go to the last tabbable node of the LAST group\n          startOfGroupIndex = containerIndex;\n        }\n\n        if (startOfGroupIndex >= 0) {\n          // YES: then shift+tab should go to the last tabbable node in the\n          //  previous group (and wrap around to the last tabbable node of\n          //  the LAST group if it's the first tabbable node of the FIRST group)\n          const destinationGroupIndex =\n            startOfGroupIndex === 0\n              ? state.tabbableGroups.length - 1\n              : startOfGroupIndex - 1;\n\n          const destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.lastTabbableNode;\n        }\n      } else {\n        // FORWARD\n\n        // is the target the last tabbable node in a group?\n        let lastOfGroupIndex = findIndex(\n          state.tabbableGroups,\n          ({ lastTabbableNode }) => target === lastTabbableNode\n        );\n\n        if (\n          lastOfGroupIndex < 0 &&\n          (containerGroup.container === target ||\n            (isFocusable(target) &&\n              !isTabbable(target) &&\n              !containerGroup.nextTabbableNode(target)))\n        ) {\n          // an exception case where the target is the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle tab as if focus were on the container's\n          //  last tabbable node, and go to the first tabbable node of the FIRST group\n          lastOfGroupIndex = containerIndex;\n        }\n\n        if (lastOfGroupIndex >= 0) {\n          // YES: then tab should go to the first tabbable node in the next\n          //  group (and wrap around to the first tabbable node of the FIRST\n          //  group if it's the last tabbable node of the LAST group)\n          const destinationGroupIndex =\n            lastOfGroupIndex === state.tabbableGroups.length - 1\n              ? 0\n              : lastOfGroupIndex + 1;\n\n          const destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.firstTabbableNode;\n        }\n      }\n    } else {\n      // NOTE: the fallbackFocus option does not support returning false to opt-out\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n\n    if (destinationNode) {\n      e.preventDefault();\n      tryFocus(destinationNode);\n    }\n    // else, let the browser take care of [shift+]tab and move the focus\n  };\n\n  const checkKey = function (e) {\n    if (\n      isEscapeEvent(e) &&\n      valueOrHandler(config.escapeDeactivates, e) !== false\n    ) {\n      e.preventDefault();\n      trap.deactivate();\n      return;\n    }\n\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  };\n\n  const checkClick = function (e) {\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n\n    const target = getActualTarget(e);\n\n    if (containersContain(target)) {\n      return;\n    }\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  };\n\n  //\n  // EVENT LISTENERS\n  //\n\n  const addListeners = function () {\n    if (!state.active) {\n      return;\n    }\n\n    // There can be only one listening focus trap at a time\n    activeFocusTraps.activateTrap(trap);\n\n    // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n    state.delayInitialFocusTimer = config.delayInitialFocus\n      ? delay(function () {\n          tryFocus(getInitialFocusNode());\n        })\n      : tryFocus(getInitialFocusNode());\n\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false,\n    });\n\n    return trap;\n  };\n\n  const removeListeners = function () {\n    if (!state.active) {\n      return;\n    }\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n\n    return trap;\n  };\n\n  //\n  // TRAP DEFINITION\n  //\n\n  trap = {\n    activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n\n      const onActivate = getOption(activateOptions, 'onActivate');\n      const onPostActivate = getOption(activateOptions, 'onPostActivate');\n      const checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');\n\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n\n      if (onActivate) {\n        onActivate();\n      }\n\n      const finishActivation = () => {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n        addListeners();\n        if (onPostActivate) {\n          onPostActivate();\n        }\n      };\n\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(\n          finishActivation,\n          finishActivation\n        );\n        return this;\n      }\n\n      finishActivation();\n      return this;\n    },\n\n    deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n\n      clearTimeout(state.delayInitialFocusTimer); // noop if undefined\n      state.delayInitialFocusTimer = undefined;\n\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n\n      activeFocusTraps.deactivateTrap(trap);\n\n      const onDeactivate = getOption(deactivateOptions, 'onDeactivate');\n      const onPostDeactivate = getOption(deactivateOptions, 'onPostDeactivate');\n      const checkCanReturnFocus = getOption(\n        deactivateOptions,\n        'checkCanReturnFocus'\n      );\n\n      if (onDeactivate) {\n        onDeactivate();\n      }\n\n      const returnFocus = getOption(\n        deactivateOptions,\n        'returnFocus',\n        'returnFocusOnDeactivate'\n      );\n\n      const finishDeactivation = () => {\n        delay(() => {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n          if (onPostDeactivate) {\n            onPostDeactivate();\n          }\n        });\n      };\n\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(\n          getReturnFocusNode(state.nodeFocusedBeforeActivation)\n        ).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n\n      finishDeactivation();\n      return this;\n    },\n\n    pause() {\n      if (state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = true;\n      removeListeners();\n\n      return this;\n    },\n\n    unpause() {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = false;\n      updateTabbableNodes();\n      addListeners();\n\n      return this;\n    },\n\n    updateContainerElements(containerElements) {\n      const elementsAsArray = [].concat(containerElements).filter(Boolean);\n\n      state.containers = elementsAsArray.map((element) =>\n        typeof element === 'string' ? doc.querySelector(element) : element\n      );\n\n      if (state.active) {\n        updateTabbableNodes();\n      }\n\n      return this;\n    },\n  };\n\n  // initialize container elements\n  trap.updateContainerElements(elements);\n\n  return trap;\n};\n\nexport { createFocusTrap };\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import{makeHandle as e}from\"../core/handleUtils.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import i from\"../widgets/Widget.js\";import{isWidget as r}from\"../widgets/support/widget.js\";import{createFocusTrap as n}from\"focus-trap\";import{messageBundle as a}from\"../widgets/support/decorators/messageBundle.js\";import{tsx as c}from\"../widgets/support/jsxFactory.js\";const l={base:\"esri-identity-modal\",open:\"esri-identity-modal--open\",closed:\"esri-identity-modal--closed\",title:\"esri-identity-modal__title\",dialog:\"esri-identity-modal__dialog\",content:\"esri-identity-modal__content\",closeButton:\"esri-identity-modal__close-button\",iconClose:\"esri-icon-close\"};let d=class extends i{constructor(t,e){super(t,e),this.container=document.createElement(\"div\"),this.content=null,this.open=!1,this._close=()=>{this.open=!1},document.body.appendChild(this.container),this.own(this.watch(\"open\",(()=>this._toggleFocusTrap())))}destroy(){this._destroyFocusTrap()}render(){const t=this.id,{open:e,content:o,title:s,messages:i}=this,r=e&&!!o,n={[l.open]:r,[l.closed]:!r},a=c(\"button\",{class:l.closeButton,\"aria-label\":i.close,title:i.close,bind:this,onclick:this._close},c(\"span\",{\"aria-hidden\":\"true\",class:l.iconClose})),d=`${t}_title`,p=`${t}_content`,u=s?c(\"h1\",{id:d,class:l.title},s):null,m=r?c(\"div\",{bind:this,class:l.dialog,role:\"dialog\",\"aria-labelledby\":d,\"aria-describedby\":p,afterCreate:this._createFocusTrap},a,u,this._renderContent(p)):null;return c(\"div\",{tabIndex:-1,class:this.classes(l.base,n)},m)}_destroyFocusTrap(){var t;null==(t=this._focusTrap)||t.deactivate({onDeactivate:null}),this._focusTrap=null}_toggleFocusTrap(){const{_focusTrap:t,open:e}=this;t&&(e?t.activate():t.deactivate())}_createFocusTrap(t){this._destroyFocusTrap();const o=requestAnimationFrame((()=>{this._focusTrap=n(t,{initialFocus:\"input\",onDeactivate:this._close}),this._toggleFocusTrap()}));this.own(e((()=>cancelAnimationFrame(o))))}_renderContent(t){const e=this.content;return\"string\"==typeof e?c(\"div\",{class:l.content,id:t,innerHTML:e}):r(e)?c(\"div\",{class:l.content,id:t},e.render()):e instanceof HTMLElement?c(\"div\",{class:l.content,id:t,bind:e,afterCreate:this._attachToNode}):null}_attachToNode(t){const e=this;t.appendChild(e)}};t([o({readOnly:!0})],d.prototype,\"container\",void 0),t([o()],d.prototype,\"content\",void 0),t([o()],d.prototype,\"open\",void 0),t([o(),a(\"esri/t9n/common\")],d.prototype,\"messages\",void 0),t([o({aliasOf:\"messages.auth.signIn\"})],d.prototype,\"title\",void 0),d=t([s(\"esri.identity.IdentityModal\")],d);const p=d;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst t=\"esriJSAPIOAuth\";class s{constructor(t,s){this.oAuthInfo=null,this.storage=null,this.appId=null,this.expires=null,this.ssl=null,this.token=null,this.userId=null,this.oAuthInfo=t,this.storage=s,this._init()}isValid(){let t=!1;if(this.oAuthInfo&&this.token&&this.userId){const s=Date.now();if(this.expires>s){(this.expires-s)/1e3>60*this.oAuthInfo.minTimeUntilExpiration&&(t=!0)}}return t}save(){if(!this.storage)return;const s=this._load(),e=this.oAuthInfo;if(e&&e.authNamespace&&e.portalUrl){let o=s[e.authNamespace];o||(o=s[e.authNamespace]={}),o[e.portalUrl]={appId:this.appId=e.appId,expires:this.expires,ssl:this.ssl,token:this.token,userId:this.userId};try{this.storage.setItem(t,JSON.stringify(s))}catch(i){console.log(i)}}}destroy(){const s=this._load(),e=this.oAuthInfo;if(e&&e.appId&&e.portalUrl&&this.token&&this.expires>Date.now()){const t=e.portalUrl.replace(/^http:/i,\"https:\")+\"/sharing/rest/oauth2/revokeToken\",s=new FormData;if(s.append(\"f\",\"json\"),s.append(\"auth_token\",this.token),s.append(\"client_id\",e.appId),s.append(\"token_type_hint\",\"access_token\"),\"function\"==typeof navigator.sendBeacon)navigator.sendBeacon(t,s);else{const e=new XMLHttpRequest;e.open(\"POST\",t),e.send(s)}}if(e&&e.authNamespace&&e.portalUrl&&this.storage){const o=s[e.authNamespace];if(o){delete o[e.portalUrl];try{this.storage.setItem(t,JSON.stringify(s))}catch(i){console.log(i)}}}e&&(e._oAuthCred=null,this.oAuthInfo=null)}_init(){const t=this._load(),s=this.oAuthInfo;if(s&&s.authNamespace&&s.portalUrl){let e=t[s.authNamespace];e&&(e=e[s.portalUrl],e&&(this.appId=e.appId,this.expires=e.expires,this.ssl=e.ssl,this.token=e.token,this.userId=e.userId))}}_load(){let s={};if(this.storage){const i=this.storage.getItem(t);if(i)try{s=JSON.parse(i)}catch(e){console.log(e)}}return s}}s.prototype.declaredClass=\"esri.identity.OAuthCredential\";export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../core/JSONSupport.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../core/accessorSupport/decorators/subclass.js\";var s;let p=s=class extends t{constructor(o){super(o),this._oAuthCred=null,this.appId=null,this.authNamespace=\"/\",this.expiration=20160,this.forceLogin=!1,this.forceUserId=!1,this.locale=null,this.minTimeUntilExpiration=30,this.popup=!1,this.popupCallbackUrl=\"oauth-callback.html\",this.popupWindowFeatures=\"height=490,width=800,resizable,scrollbars,status\",this.portalUrl=\"https://www.arcgis.com\",this.preserveUrlHash=!1,this.userId=null}clone(){return s.fromJSON(this.toJSON())}};o([r({json:{write:!0}})],p.prototype,\"appId\",void 0),o([r({json:{write:!0}})],p.prototype,\"authNamespace\",void 0),o([r({json:{write:!0}})],p.prototype,\"expiration\",void 0),o([r({json:{write:!0}})],p.prototype,\"forceLogin\",void 0),o([r({json:{write:!0}})],p.prototype,\"forceUserId\",void 0),o([r({json:{write:!0}})],p.prototype,\"locale\",void 0),o([r({json:{write:!0}})],p.prototype,\"minTimeUntilExpiration\",void 0),o([r({json:{write:!0}})],p.prototype,\"popup\",void 0),o([r({json:{write:!0}})],p.prototype,\"popupCallbackUrl\",void 0),o([r({json:{write:!0}})],p.prototype,\"popupWindowFeatures\",void 0),o([r({json:{write:!0}})],p.prototype,\"portalUrl\",void 0),o([r({json:{write:!0}})],p.prototype,\"preserveUrlHash\",void 0),o([r({json:{write:!0}})],p.prototype,\"userId\",void 0),p=s=o([e(\"esri.identity.OAuthInfo\")],p);const i=p;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../core/JSONSupport.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";let s=class extends r{constructor(o){super(o),this.adminTokenServiceUrl=null,this.currentVersion=null,this.hasPortal=null,this.hasServer=null,this.owningSystemUrl=null,this.owningTenant=null,this.server=null,this.shortLivedTokenValidity=null,this.tokenServiceUrl=null,this.webTierAuth=null}};o([e({json:{write:!0}})],s.prototype,\"adminTokenServiceUrl\",void 0),o([e({json:{write:!0}})],s.prototype,\"currentVersion\",void 0),o([e({json:{write:!0}})],s.prototype,\"hasPortal\",void 0),o([e({json:{write:!0}})],s.prototype,\"hasServer\",void 0),o([e({json:{write:!0}})],s.prototype,\"owningSystemUrl\",void 0),o([e({json:{write:!0}})],s.prototype,\"owningTenant\",void 0),o([e({json:{write:!0}})],s.prototype,\"server\",void 0),o([e({json:{write:!0}})],s.prototype,\"shortLivedTokenValidity\",void 0),o([e({json:{write:!0}})],s.prototype,\"tokenServiceUrl\",void 0),o([e({json:{write:!0}})],s.prototype,\"webTierAuth\",void 0),s=o([t(\"esri.identity.ServerInfo\")],s);const i=s;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../config.js\";import{id as s}from\"../kernel.js\";import r from\"../request.js\";import i from\"../core/Error.js\";import n from\"../core/Evented.js\";import{on as o}from\"../core/events.js\";import{fixJson as a}from\"../core/lang.js\";import{getDeepValue as h}from\"../core/object.js\";import{createResolver as l,onAbort as c,isAborted as d}from\"../core/promiseUtils.js\";import{Url as u,urlToObject as p,hasSameOrigin as _,queryToObject as g,normalize as f,getProxyRule as m,makeAbsolute as v,objectToQuery as S}from\"../core/urlUtils.js\";import{property as w}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as I}from\"../core/accessorSupport/decorators/subclass.js\";import k from\"./IdentityForm.js\";import A from\"./IdentityModal.js\";import y from\"./OAuthCredential.js\";import U from\"./OAuthInfo.js\";import x from\"./ServerInfo.js\";const T={},O=e=>{const t=new u(e.owningSystemUrl).host,s=new u(e.server).host,r=/.+\\.arcgis\\.com$/i;return r.test(t)&&r.test(s)},R=(e,t)=>!!(O(e)&&t&&t.some((t=>t.test(e.server))));let b=null,P=null;try{b=window.localStorage,P=window.sessionStorage}catch{}class C extends n{constructor(){super(),this._portalConfig=globalThis.esriGeowConfig,this.serverInfos=[],this.oAuthInfos=[],this.credentials=[],this._soReqs=[],this._xoReqs=[],this._portals=[],this.defaultOAuthInfo=null,this.defaultTokenValidity=60,this.dialog=null,this.formConstructor=k,this.tokenValidity=null,this.normalizeWebTierAuth=!1,this._appOrigin=\"null\"!==window.origin?window.origin:window.location.origin,this._appUrlObj=p(window.location.href),this._busy=null,this._rejectOnPersistedPageShow=!1,this._oAuthHash=null,this._gwTokenUrl=\"/sharing/rest/generateToken\",this._agsRest=\"/rest/services\",this._agsPortal=/\\/sharing(\\/|$)/i,this._agsAdmin=/(https?:\\/\\/[^\\/]+\\/[^\\/]+)\\/admin\\/?(\\/.*)?$/i,this._adminSvcs=/\\/rest\\/admin\\/services(\\/|$)/i,this._gwDomains=[{regex:/^https?:\\/\\/www\\.arcgis\\.com/i,customBaseUrl:\"maps.arcgis.com\",tokenServiceUrl:\"https://www.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/(?:dev|[a-z\\d-]+\\.mapsdev)\\.arcgis\\.com/i,customBaseUrl:\"mapsdev.arcgis.com\",tokenServiceUrl:\"https://dev.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/(?:devext|[a-z\\d-]+\\.mapsdevext)\\.arcgis\\.com/i,customBaseUrl:\"mapsdevext.arcgis.com\",tokenServiceUrl:\"https://devext.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/(?:qaext|[a-z\\d-]+\\.mapsqa)\\.arcgis\\.com/i,customBaseUrl:\"mapsqa.arcgis.com\",tokenServiceUrl:\"https://qaext.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/[a-z\\d-]+\\.maps\\.arcgis\\.com/i,customBaseUrl:\"maps.arcgis.com\",tokenServiceUrl:\"https://www.arcgis.com/sharing/rest/generateToken\"}],this._legacyFed=[],this._regexSDirUrl=/http.+\\/rest\\/services\\/?/gi,this._regexServerType=/(\\/(FeatureServer|GPServer|GeoDataServer|GeocodeServer|GeoenrichmentServer|GeometryServer|GlobeServer|ImageServer|MapServer|MobileServer|NAServer|NetworkDiagramServer|OGCFeatureServer|ParcelFabricServer|RelationalCatalogServer|SceneServer|StreamServer|UtilityNetworkServer|ValidationServer|VectorTileServer|VersionManagementServer)).*/gi,this._gwUser=/http.+\\/users\\/([^\\/]+)\\/?.*/i,this._gwItem=/http.+\\/items\\/([^\\/]+)\\/?.*/i,this._gwGroup=/http.+\\/groups\\/([^\\/]+)\\/?.*/i,this._rePortalTokenSvc=/\\/sharing(\\/rest)?\\/generatetoken/i,this._createDefaultOAuthInfo=!0,this._hasTestedIfAppIsOnPortal=!1,this._getOAuthHash(),window.addEventListener(\"pageshow\",(e=>{this._pageShowHandler(e)}))}registerServers(e){const t=this.serverInfos;t?(e=e.filter((e=>!this.findServerInfo(e.server))),this.serverInfos=t.concat(e)):this.serverInfos=e,e.forEach((e=>{e.owningSystemUrl&&this._portals.push(e.owningSystemUrl),e.hasPortal&&this._portals.push(e.server)}))}registerOAuthInfos(e){const t=this.oAuthInfos;if(t){for(const s of e){const e=this.findOAuthInfo(s.portalUrl);e&&t.splice(t.indexOf(e),1)}this.oAuthInfos=t.concat(e)}else this.oAuthInfos=e}registerToken(e){e={...e};const t=this._sanitizeUrl(e.server),s=this._isServerRsrc(t);let r,i=this.findServerInfo(t),n=!0;i||(i=new x,i.server=this._getServerInstanceRoot(t),s?i.hasServer=!0:(i.tokenServiceUrl=this._getTokenSvcUrl(t),i.hasPortal=!0),this.registerServers([i])),r=this._findCredential(t),r?(delete e.server,Object.assign(r,e),n=!1):(r=new D({userId:e.userId,server:i.server,token:e.token,expires:e.expires,ssl:e.ssl,scope:s?\"server\":\"portal\"}),r.resources=[t],this.credentials.push(r)),r.emitTokenChange(!1),n||r.refreshServerTokens()}toJSON(){return a({serverInfos:this.serverInfos.map((e=>e.toJSON())),oAuthInfos:this.oAuthInfos.map((e=>e.toJSON())),credentials:this.credentials.map((e=>e.toJSON()))})}initialize(e){if(!e)return;\"string\"==typeof e&&(e=JSON.parse(e));const t=e.serverInfos,s=e.oAuthInfos,r=e.credentials;if(t){const e=[];t.forEach((t=>{t.server&&t.tokenServiceUrl&&e.push(t.declaredClass?t:new x(t))})),e.length&&this.registerServers(e)}if(s){const e=[];s.forEach((t=>{t.appId&&e.push(t.declaredClass?t:new U(t))})),e.length&&this.registerOAuthInfos(e)}r&&r.forEach((e=>{e.server&&e.token&&e.expires&&e.expires>Date.now()&&((e=e.declaredClass?e:new D(e)).emitTokenChange(),this.credentials.push(e))}))}findServerInfo(e){let t;e=this._sanitizeUrl(e);for(const s of this.serverInfos)if(this._hasSameServerInstance(s.server,e)){t=s;break}return t}findOAuthInfo(e){let t;e=this._sanitizeUrl(e);for(const s of this.oAuthInfos)if(this._hasSameServerInstance(s.portalUrl,e)){t=s;break}return t}findCredential(e,t){let s;e=this._sanitizeUrl(e);const r=this._isServerRsrc(e)?\"server\":\"portal\";if(t){for(const i of this.credentials)if(this._hasSameServerInstance(i.server,e)&&t===i.userId&&i.scope===r){s=i;break}}else for(const i of this.credentials)if(this._hasSameServerInstance(i.server,e)&&-1!==this._getIdenticalSvcIdx(e,i)&&i.scope===r){s=i;break}return s}getCredential(e,t){let s,r,n=!0;t&&(s=!!t.token,r=t.error,n=!1!==t.prompt),t={...t},e=this._sanitizeUrl(e);const o=new AbortController,a=l();if(t.signal&&c(t.signal,(()=>{o.abort()})),c(o,(()=>{a.reject(new i(\"identity-manager:user-aborted\",\"ABORTED\"))})),d(o))return a.promise;t.signal=o.signal;const h=this._isAdminResource(e),u=s?this.findCredential(e):null;let p;if(u&&r&&r.details&&498===r.details.httpStatus)u.destroy();else if(u)return p=new i(\"identity-manager:not-authorized\",\"You are currently signed in as: '\"+u.userId+\"'. You do not have access to this resource: \"+e,{error:r}),a.reject(p),a.promise;const g=this._findCredential(e,t);if(g)return a.resolve(g),a.promise;let f=this.findServerInfo(e);if(f)!f.hasServer&&this._isServerRsrc(e)&&(f._restInfoPms=this._getTokenSvcUrl(e),f.hasServer=!0);else{const t=this._getTokenSvcUrl(e);if(!t)return p=new i(\"identity-manager:unknown-resource\",\"Unknown resource - could not find token service endpoint.\"),a.reject(p),a.promise;f=new x,f.server=this._getServerInstanceRoot(e),\"string\"==typeof t?(f.tokenServiceUrl=t,f.hasPortal=!0):(f._restInfoPms=t,f.hasServer=!0),this.registerServers([f])}return f.hasPortal&&void 0===f._selfReq&&(n||_(f.tokenServiceUrl,this._appOrigin)||this._gwDomains.some((e=>e.tokenServiceUrl===f.tokenServiceUrl)))&&(f._selfReq={owningTenant:t&&t.owningTenant,selfDfd:this._getPortalSelf(f.tokenServiceUrl.replace(this._rePortalTokenSvc,\"/sharing/rest/portals/self\"),e)}),this._enqueue(e,f,t,a,h)}getResourceName(e){return this._isRESTService(e)?e.replace(this._regexSDirUrl,\"\").replace(this._regexServerType,\"\")||\"\":this._gwUser.test(e)&&e.replace(this._gwUser,\"$1\")||this._gwItem.test(e)&&e.replace(this._gwItem,\"$1\")||this._gwGroup.test(e)&&e.replace(this._gwGroup,\"$1\")||\"\"}generateToken(e,t,s){const n=this._rePortalTokenSvc.test(e.tokenServiceUrl),o=new u(this._appOrigin),a=e.shortLivedTokenValidity;let h,l,c,d,p,g,f,m;t&&(m=this.tokenValidity||a||this.defaultTokenValidity,m>a&&a>0&&(m=a)),s&&(h=s.isAdmin,l=s.serverUrl,c=s.token,g=s.signal,f=s.ssl,e.customParameters=s.customParameters),h?d=e.adminTokenServiceUrl:(d=e.tokenServiceUrl,p=new u(d.toLowerCase()),e.webTierAuth&&null!=s&&s.serverUrl&&!f&&\"http\"===o.scheme&&(_(o.uri,d,!0)||\"https\"===p.scheme&&o.host===p.host&&\"7080\"===o.port&&\"7443\"===p.port)&&(d=d.replace(/^https:/i,\"http:\").replace(/:7443/i,\":7080\")));const v={query:{request:\"getToken\",username:null==t?void 0:t.username,password:null==t?void 0:t.password,serverUrl:l,token:c,expiration:m,referer:h||n?this._appOrigin:null,client:h?\"referer\":null,f:\"json\",...e.customParameters},method:\"post\",authMode:\"anonymous\",useProxy:this._useProxy(e,s),signal:g,...null==s?void 0:s.ioArgs};n||(v.withCredentials=!1);return r(d,v).then((s=>{const r=s.data;if(!r||!r.token)return new i(\"identity-manager:authentication-failed\",\"Unable to generate token\");const n=e.server;return T[n]||(T[n]={}),t&&(T[n][t.username]=t.password),r.validity=m,r}))}isBusy(){return!!this._busy}checkSignInStatus(e){return this.checkAppAccess(e,\"\").then((e=>e.credential))}checkAppAccess(e,t,s){let n=!1;return this.getCredential(e,{prompt:!1}).then((o=>{let a;const h={f:\"json\"};if(\"portal\"===o.scope)if(t&&(this._doPortalSignIn(e)||s&&s.force))a=o.server+\"/sharing/rest/oauth2/validateAppAccess\",h.client_id=t;else{if(!o.token)return{credential:o};a=o.server+\"/sharing/rest\"}else{if(!o.token)return{credential:o};a=o.server+\"/rest/services\"}return o.token&&(h.token=o.token),r(a,{query:h,authMode:\"anonymous\"}).then((e=>{if(!1===e.data.valid)throw new i(\"identity-manager:not-authorized\",`You are currently signed in as: '${o.userId}'.`,e.data);return n=!!e.data.viewOnlyUserTypeApp,{credential:o}})).catch((e=>{if(\"identity-manager:not-authorized\"===e.name)throw e;const t=e.details&&e.details.httpStatus;if(498===t)throw o.destroy(),new i(\"identity-manager:not-authenticated\",\"User is not signed in.\");if(400===t)throw new i(\"identity-manager:invalid-request\");return{credential:o}}))})).then((e=>({credential:e.credential,viewOnly:n})))}setOAuthResponseHash(e){var t;const s=this._oAuthDfd;if(this._oAuthDfd=null,!s||!e)return;clearInterval(this._oAuthIntervalId),null==(t=this._oAuthOnHashHandle)||t.remove(),\"#\"===e.charAt(0)&&(e=e.substring(1));const r=g(e);if(r.error){const e=\"access_denied\"===r.error,t=new i(e?\"identity-manager:user-aborted\":\"identity-manager:authentication-failed\",e?\"ABORTED\":\"OAuth: \"+r.error+\" - \"+r.error_description);s.reject(t)}else{const e=s.sinfo_,t=s.oinfo_,i=t._oAuthCred,n=new D({userId:r.username,server:e.server,token:r.access_token,expires:Date.now()+1e3*Number(r.expires_in),ssl:\"true\"===r.ssl,_oAuthCred:i});t.userId=n.userId,i.storage=r.persist?b:P,i.token=n.token,i.expires=n.expires,i.userId=n.userId,i.ssl=n.ssl,i.save(),s.resolve(n)}}setOAuthRedirectionHandler(e){this._oAuthRedirectFunc=e}setProtocolErrorHandler(e){this._protocolFunc=e}signIn(e,t,s={}){const r=l(),n=()=>{var e,t,s,r,i;null==(e=h)||e.remove(),null==(t=d)||t.remove(),null==(s=u)||s.remove(),null==(r=a)||r.destroy(),null==(i=this.dialog)||i.destroy(),this.dialog=a=h=d=u=null},o=()=>{n(),this._oAuthDfd=null,r.reject(new i(\"identity-manager:user-aborted\",\"ABORTED\"))};s.signal&&c(s.signal,(()=>{o()}));let a=new this.formConstructor;a.resource=this.getResourceName(e),a.server=t.server,this.dialog=new A,this.dialog.content=a,this.dialog.open=!0,this.emit(\"dialog-create\");let h=a.on(\"cancel\",o),d=this.dialog.watch(\"open\",o),u=a.on(\"submit\",(e=>{this.generateToken(t,e,{isAdmin:s.isAdmin,signal:s.signal}).then((i=>{n();const o=new D({userId:e.username,server:t.server,token:i.token,expires:null!=i.expires?Number(i.expires):null,ssl:!!i.ssl,isAdmin:s.isAdmin,validity:i.validity});r.resolve(o)})).catch((e=>{a.error=e,a.signingIn=!1}))}));return r.promise}oAuthSignIn(e,t,s,r){this._oAuthDfd=l();const n=this._oAuthDfd;null!=r&&r.signal&&c(r.signal,(()=>{const e=this._oAuthDfd&&this._oAuthDfd.oAuthWin_;e&&!e.closed?e.close():this.dialog&&h()})),n.resUrl_=e,n.sinfo_=t,n.oinfo_=s;const o=!r||!1!==r.oAuthPopupConfirmation;if(!s.popup||!o)return this._doOAuthSignIn(e,t,s),n.promise;const a=new this.formConstructor;a.oAuthPrompt=!0,a.server=t.server,this.dialog=new A,this.dialog.content=a,this.dialog.open=!0,this.emit(\"dialog-create\");const h=()=>{_(),this._oAuthDfd=null,n.reject(new i(\"identity-manager:user-aborted\",\"ABORTED\"))},d=a.on(\"cancel\",h),u=this.dialog.watch(\"open\",h),p=a.on(\"submit\",(()=>{_(),this._doOAuthSignIn(e,t,s)})),_=()=>{d.remove(),u.remove(),p.remove(),a.destroy(),this.dialog.destroy(),this.dialog=null};return n.promise}destroyCredentials(){if(this.credentials){this.credentials.slice().forEach((e=>{e.destroy()}))}this.emit(\"credentials-destroy\")}enablePostMessageAuth(e=\"https://www.arcgis.com/sharing/rest\"){this._postMessageAuthHandle&&this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=o(window,\"message\",(t=>{var s;if((t.origin===this._appOrigin||t.origin.endsWith(\".arcgis.com\"))&&\"arcgis:auth:requestCredential\"===(null==(s=t.data)?void 0:s.type)){const s=t.source;this.getCredential(e).then((e=>{s.postMessage({type:\"arcgis:auth:credential\",credential:{expires:e.expires,server:e.server,ssl:e.ssl,token:e.token,userId:e.userId}},t.origin)})).catch((e=>{s.postMessage({type:\"arcgis:auth:error\",error:{name:e.name,message:e.message}},t.origin)}))}}))}disablePostMessageAuth(){this._postMessageAuthHandle&&(this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=null)}_getOAuthHash(){let e=window.location.hash;if(e){\"#\"===e.charAt(0)&&(e=e.substring(1));const t=g(e);let s=!1;if(t.access_token&&t.expires_in&&t.state&&t.hasOwnProperty(\"username\"))try{t.state=JSON.parse(t.state),\"object\"==typeof t.state&&t.state.portalUrl&&(this._oAuthHash=t,s=!0)}catch{}else t.error&&t.error_description&&(console.log(\"IdentityManager OAuth Error: \",t.error,\" - \",t.error_description),\"access_denied\"===t.error&&(s=!0));s&&(window.location.hash=\"object\"==typeof t.state&&t.state.hash||\"\")}}_pageShowHandler(e){if(e.persisted&&this.isBusy()&&this._rejectOnPersistedPageShow){const e=new i(\"identity-manager:user-aborted\",\"ABORTED\");this._errbackFunc(e)}}_findCredential(e,t){let s,r,i,n,o=-1;const a=t&&t.token,h=t&&t.resource,l=this._isServerRsrc(e)?\"server\":\"portal\",c=this.credentials.filter((t=>this._hasSameServerInstance(t.server,e)&&t.scope===l));if(e=h||e,c.length)if(1===c.length){if(s=c[0],n=this.findServerInfo(s.server),r=n&&n.owningSystemUrl,i=r&&this.findCredential(r,s.userId),o=this._getIdenticalSvcIdx(e,s),!a)return-1===o&&s.resources.push(e),this._addResource(e,i),s;-1!==o&&(s.resources.splice(o,1),this._removeResource(e,i))}else{let t,s;if(c.some((a=>(s=this._getIdenticalSvcIdx(e,a),-1!==s&&(t=a,n=this.findServerInfo(t.server),r=n&&n.owningSystemUrl,i=r&&this.findCredential(r,t.userId),o=s,!0)))),a)t&&(t.resources.splice(o,1),this._removeResource(e,i));else if(t)return this._addResource(e,i),t}}_findOAuthInfo(e){let t=this.findOAuthInfo(e);if(!t)for(const s of this.oAuthInfos)if(this._isIdProvider(s.portalUrl,e)){t=s;break}return t}_addResource(e,t){t&&-1===this._getIdenticalSvcIdx(e,t)&&t.resources.push(e)}_removeResource(e,t){let s=-1;t&&(s=this._getIdenticalSvcIdx(e,t),s>-1&&t.resources.splice(s,1))}_useProxy(e,t){return t&&t.isAdmin&&!_(e.adminTokenServiceUrl,this._appOrigin)||!this._isPortalDomain(e.tokenServiceUrl)&&\"10.1\"===String(e.currentVersion)&&!_(e.tokenServiceUrl,this._appOrigin)}_getOrigin(e){const t=new u(e);return t.scheme+\"://\"+t.host+(null!=t.port?\":\"+t.port:\"\")}_getServerInstanceRoot(e){const t=e.toLowerCase();let s=t.indexOf(this._agsRest);return-1===s&&this._isAdminResource(e)&&(s=this._agsAdmin.test(e)?e.replace(this._agsAdmin,\"$1\").length:e.search(this._adminSvcs)),-1===s&&(s=t.indexOf(\"/sharing\")),-1===s&&\"/\"===t.substr(-1)&&(s=t.length-1),s>-1?e.substring(0,s):e}_hasSameServerInstance(e,t){return\"/\"===e.substr(-1)&&(e=e.slice(0,-1)),e=e.toLowerCase(),t=this._getServerInstanceRoot(t).toLowerCase(),e=this._normalizeAGOLorgDomain(e),t=this._normalizeAGOLorgDomain(t),(e=e.substr(e.indexOf(\":\")))===(t=t.substr(t.indexOf(\":\")))}_normalizeAGOLorgDomain(e){const t=/^https?:\\/\\/(?:cdn|[a-z\\d-]+\\.maps)\\.arcgis\\.com/i,s=/^https?:\\/\\/(?:cdndev|[a-z\\d-]+\\.mapsdevext)\\.arcgis\\.com/i,r=/^https?:\\/\\/(?:cdnqa|[a-z\\d-]+\\.mapsqa)\\.arcgis\\.com/i;return t.test(e)?e=e.replace(t,\"https://www.arcgis.com\"):s.test(e)?e=e.replace(s,\"https://devext.arcgis.com\"):r.test(e)&&(e=e.replace(r,\"https://qaext.arcgis.com\")),e}_sanitizeUrl(e){const s=(t.request.proxyUrl||\"\").toLowerCase(),r=s?e.toLowerCase().indexOf(s+\"?\"):-1;return-1!==r&&(e=e.substring(r+s.length+1)),e=f(e),p(e).path}_isRESTService(e){return e.indexOf(this._agsRest)>-1}_isAdminResource(e){return this._agsAdmin.test(e)||this._adminSvcs.test(e)}_isServerRsrc(e){return this._isRESTService(e)||this._isAdminResource(e)}_isIdenticalService(e,t){let s;if(this._isRESTService(e)&&this._isRESTService(t)){const r=this._getSuffix(e).toLowerCase(),i=this._getSuffix(t).toLowerCase();if(s=r===i,!s){const e=/(.*)\\/(MapServer|FeatureServer|UtilityNetworkServer).*/gi;s=r.replace(e,\"$1\")===i.replace(e,\"$1\")}}else this._isAdminResource(e)&&this._isAdminResource(t)?s=!0:this._isServerRsrc(e)||this._isServerRsrc(t)||!this._isPortalDomain(e)||(s=!0);return s}_isPortalDomain(e){const s=new u(e.toLowerCase()),r=this._portalConfig;let i=this._gwDomains.some((e=>e.regex.test(s.uri)));return!i&&r&&(i=this._hasSameServerInstance(this._getServerInstanceRoot(r.restBaseUrl),s.uri)),i||t.portalUrl&&(i=_(s,t.portalUrl,!0)),i||(i=this._portals.some((e=>this._hasSameServerInstance(e,s.uri)))),i=i||this._agsPortal.test(s.path),i}_isIdProvider(e,t){let s=-1,r=-1;this._gwDomains.forEach(((i,n)=>{-1===s&&i.regex.test(e)&&(s=n),-1===r&&i.regex.test(t)&&(r=n)}));let i=!1;if(s>-1&&r>-1&&(0===s||4===s?0!==r&&4!==r||(i=!0):1===s?1!==r&&2!==r||(i=!0):2===s?2===r&&(i=!0):3===s&&3===r&&(i=!0)),!i){const s=this.findServerInfo(t),r=s&&s.owningSystemUrl;r&&O(s)&&this._isPortalDomain(r)&&this._isIdProvider(e,r)&&(i=!0)}return i}_getIdenticalSvcIdx(e,t){let s=-1;for(let r=0;r<t.resources.length;r++){const i=t.resources[r];if(this._isIdenticalService(e,i)){s=r;break}}return s}_getSuffix(e){return e.replace(this._regexSDirUrl,\"\").replace(this._regexServerType,\"$1\")}_getTokenSvcUrl(e){let t,s,i;if(this._isRESTService(e)||this._isAdminResource(e)){const i=this._getServerInstanceRoot(e);return t=i+\"/admin/generateToken\",s=r(e=i+\"/rest/info\",{query:{f:\"json\"}}).then((e=>e.data)),{adminUrl:t,promise:s}}if(this._isPortalDomain(e)){let t=\"\";if(this._gwDomains.some((s=>(s.regex.test(e)&&(t=s.tokenServiceUrl),!!t))),t||this._portals.some((s=>(this._hasSameServerInstance(s,e)&&(t=s+this._gwTokenUrl),!!t))),t||(i=e.toLowerCase().indexOf(\"/sharing\"),-1!==i&&(t=e.substring(0,i)+this._gwTokenUrl)),t||(t=this._getOrigin(e)+this._gwTokenUrl),t){const s=new u(e).port;/^http:\\/\\//i.test(e)&&\"7080\"===s&&(t=t.replace(/:7080/i,\":7443\")),t=t.replace(/http:/i,\"https:\")}return t}if(-1!==e.toLowerCase().indexOf(\"premium.arcgisonline.com\"))return\"https://premium.arcgisonline.com/server/tokens\"}_exchangeToken(e,t,s){return r(`${e}/sharing/rest/oauth2/exchangeToken`,{authMode:\"anonymous\",method:\"post\",query:{f:\"json\",client_id:t,token:s}}).then((e=>e.data.token))}_getPlatformSelf(e,t){return e=e.replace(/^http:/i,\"https:\"),r(`${e}/sharing/rest/oauth2/platformSelf`,{authMode:\"anonymous\",headers:{\"X-Esri-Auth-Client-Id\":t,\"X-Esri-Auth-Redirect-Uri\":window.location.href.replace(/#.*$/,\"\")},method:\"post\",query:{f:\"json\"},withCredentials:!0}).then((e=>e.data))}_getPortalSelf(e,t){let s;if(this._gwDomains.some((t=>(t.regex.test(e)&&(s=t.customBaseUrl),!!s))),s)return Promise.resolve({allSSL:!0,currentVersion:\"4.4\",customBaseUrl:s,portalMode:\"multitenant\",supportsOAuth:!0});this._appOrigin.startsWith(\"https:\")?e=e.replace(/^http:/i,\"https:\").replace(/:7080/i,\":7443\"):/^http:/i.test(t)&&(e=e.replace(/^https:/i,\"http:\").replace(/:7443/i,\":7080\"));return r(e,{query:{f:\"json\"},authMode:\"anonymous\",withCredentials:!0}).then((e=>e.data))}_doPortalSignIn(e){const t=this._portalConfig,s=window.location.href,r=this.findServerInfo(e);return!(!t&&!this._isPortalDomain(s)||!(r?r.hasPortal||r.owningSystemUrl&&this._isPortalDomain(r.owningSystemUrl):this._isPortalDomain(e))||!(this._isIdProvider(s,e)||t&&(this._hasSameServerInstance(this._getServerInstanceRoot(t.restBaseUrl),e)||this._isIdProvider(t.restBaseUrl,e))||_(s,e,!0)))}_checkProtocol(e,t,s,r){let n=!0;const o=r?t.adminTokenServiceUrl:t.tokenServiceUrl;if(o.trim().toLowerCase().startsWith(\"https:\")&&!this._appOrigin.startsWith(\"https:\")&&m(o)&&(n=!!this._protocolFunc&&!!this._protocolFunc({resourceUrl:e,serverInfo:t}),!n)){s(new i(\"identity-manager:aborted\",\"Aborted the Sign-In process to avoid sending password over insecure connection.\"))}return n}_enqueue(e,t,s,r,i,n){return r||(r=l()),r.resUrl_=e,r.sinfo_=t,r.options_=s,r.admin_=i,r.refresh_=n,this._busy?this._hasSameServerInstance(this._getServerInstanceRoot(e),this._busy.resUrl_)?(this._oAuthDfd&&this._oAuthDfd.oAuthWin_&&this._oAuthDfd.oAuthWin_.focus(),this._soReqs.push(r)):this._xoReqs.push(r):this._doSignIn(r),r.promise}_doSignIn(e){this._busy=e,this._rejectOnPersistedPageShow=!1;const t=t=>{const s=e.options_&&e.options_.resource,r=e.resUrl_,i=e.refresh_;let n=!1;-1===this.credentials.indexOf(t)&&(i&&-1!==this.credentials.indexOf(i)?(i.userId=t.userId,i.token=t.token,i.expires=t.expires,i.validity=t.validity,i.ssl=t.ssl,i.creationTime=t.creationTime,n=!0,t=i):this.credentials.push(t)),t.resources||(t.resources=[]),t.resources.push(s||r),t.scope=this._isServerRsrc(r)?\"server\":\"portal\",t.emitTokenChange();const o=this._soReqs,a={};this._soReqs=[],o.forEach((e=>{if(!this._isIdenticalService(r,e.resUrl_)){const s=this._getSuffix(e.resUrl_);a[s]||(a[s]=!0,t.resources.push(e.resUrl_))}})),e.resolve(t),o.forEach((e=>{this._hasSameServerInstance(this._getServerInstanceRoot(r),e.resUrl_)?e.resolve(t):this._soReqs.push(e)})),this._busy=e.resUrl_=e.sinfo_=e.refresh_=null,n||this.emit(\"credential-create\",{credential:t}),this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},s=t=>{e.reject(t),this._busy=e.resUrl_=e.sinfo_=e.refresh_=null,this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},r=(r,n,a,h)=>{var l,d;const u=e.sinfo_,p=!e.options_||!1!==e.options_.prompt,g=u.hasPortal&&this._findOAuthInfo(e.resUrl_);let f,m;if(r)t(new D({userId:r,server:u.server,token:a||null,expires:null!=h?Number(h):null,ssl:!!n}));else if(window!==window.parent&&null!=(l=this._appUrlObj.query)&&l[\"arcgis-auth-origin\"]&&null!=(d=this._appUrlObj.query)&&d[\"arcgis-auth-portal\"]&&this._hasSameServerInstance(this._getServerInstanceRoot(this._appUrlObj.query[\"arcgis-auth-portal\"]),e.resUrl_)){var v;window.parent.postMessage({type:\"arcgis:auth:requestCredential\"},this._appUrlObj.query[\"arcgis-auth-origin\"]);const r=o(window,\"message\",(e=>{e.source===window.parent&&e.data&&(\"arcgis:auth:credential\"===e.data.type?(r.remove(),e.data.credential.expires<Date.now()?s(new i(\"identity-manager:credential-request-failed\",\"Parent application's token has expired.\")):t(new D(e.data.credential))):\"arcgis:auth:error\"===e.data.type&&(r.remove(),\"tokenExpiredError\"===e.data.error.name?s(new i(\"identity-manager:credential-request-failed\",\"Parent application's token has expired.\")):s(i.fromJSON(e.data.error))))}));c(null==(v=e.options_)?void 0:v.signal,(()=>{r.remove()}))}else if(g){let r=g._oAuthCred;if(!r){const e=new y(g,b),t=new y(g,P);e.isValid()&&t.isValid()?e.expires>t.expires?(r=e,t.destroy()):(r=t,e.destroy()):r=e.isValid()?e:t,g._oAuthCred=r}if(r.isValid())f=new D({userId:r.userId,server:u.server,token:r.token,expires:r.expires,ssl:r.ssl,_oAuthCred:r}),g.appId!==r.appId&&this._doPortalSignIn(e.resUrl_)?e._pendingDfd=this._exchangeToken(f.server,g.appId,f.token).then((e=>{f.token=e,r.token=e,r.save(),t(f)})).catch((()=>{t(f)})):t(f);else if(this._oAuthHash&&this._hasSameServerInstance(g.portalUrl,this._oAuthHash.state.portalUrl)){const e=this._oAuthHash;f=new D({userId:e.username,server:u.server,token:e.access_token,expires:Date.now()+1e3*Number(e.expires_in),ssl:\"true\"===e.ssl,oAuthState:e.state,_oAuthCred:r}),g.userId=f.userId,r.storage=e.persist?b:P,r.token=f.token,r.expires=f.expires,r.userId=f.userId,r.ssl=f.ssl,r.save(),this._oAuthHash=null,t(f)}else{const r=()=>{p?e._pendingDfd=this.oAuthSignIn(e.resUrl_,u,g,e.options_).then(t,s):(m=new i(\"identity-manager:not-authenticated\",\"User is not signed in.\"),s(m))};this._doPortalSignIn(e.resUrl_)?e._pendingDfd=this._getPlatformSelf(u.server,g.appId).then((({portalUrl:e,token:s,username:i})=>{!e||_(e,this._appOrigin,!0)?(f=new D({server:u.server,userId:i,token:s}),t(f)):r()})).catch(r):r()}}else if(p){if(this._checkProtocol(e.resUrl_,u,s,e.admin_)){let r=e.options_;e.admin_&&(r=r||{},r.isAdmin=!0),e._pendingDfd=this.signIn(e.resUrl_,u,r).then(t,s)}}else m=new i(\"identity-manager:not-authenticated\",\"User is not signed in.\"),s(m)},n=()=>{const r=e.sinfo_,i=r.owningSystemUrl,n=e.options_;let o,a,h,l;if(n&&(o=n.token,a=n.error,h=n.prompt),l=this._findCredential(i,{token:o,resource:e.resUrl_}),!l)for(const e of this.credentials)if(this._isIdProvider(i,e.server)){l=e;break}if(l){const i=this.findCredential(e.resUrl_,l.userId);if(i)t(i);else if(R(r,this._legacyFed)){const e=l.toJSON();e.server=r.server,e.resources=null,t(new D(e))}else{(e._pendingDfd=this.generateToken(this.findServerInfo(l.server),null,{serverUrl:e.resUrl_,token:l.token,signal:e.options_.signal,ssl:l.ssl})).then((s=>{t(new D({userId:l.userId,server:r.server,token:s.token,expires:null!=s.expires?Number(s.expires):null,ssl:!!s.ssl,isAdmin:e.admin_,validity:s.validity}))}),s)}}else{this._busy=null,o&&(e.options_.token=null);(e._pendingDfd=this.getCredential(i.replace(/\\/?$/,\"/sharing\"),{resource:e.resUrl_,owningTenant:r.owningTenant,signal:e.options_.signal,token:o,error:a,prompt:h})).then((()=>{this._enqueue(e.resUrl_,e.sinfo_,e.options_,e,e.admin_)}),(t=>{e.resUrl_=e.sinfo_=e.refresh_=null,e.reject(t)}))}};this._errbackFunc=s;const a=e.sinfo_.owningSystemUrl,l=this._isServerRsrc(e.resUrl_),d=e.sinfo_._restInfoPms;d?d.promise.then((t=>{const s=e.sinfo_;if(s._restInfoPms){s.adminTokenServiceUrl=s._restInfoPms.adminUrl,s._restInfoPms=null,s.tokenServiceUrl=h(\"authInfo.tokenServicesUrl\",t)||h(\"authInfo.tokenServiceUrl\",t)||h(\"tokenServiceUrl\",t),s.shortLivedTokenValidity=h(\"authInfo.shortLivedTokenValidity\",t),s.currentVersion=t.currentVersion,s.owningTenant=t.owningTenant;const e=s.owningSystemUrl=t.owningSystemUrl;e&&this._portals.push(e)}l&&s.owningSystemUrl?n():r()}),(()=>{e.sinfo_._restInfoPms=null;const t=new i(\"identity-manager:server-identification-failed\",\"Unknown resource - could not find token service endpoint.\");s(t)})):l&&a?n():e.sinfo_._selfReq?e.sinfo_._selfReq.selfDfd.then((t=>{const s={};let r,i,n,o;return t&&(r=t.user&&t.user.username,s.username=r,s.allSSL=t.allSSL,i=t.supportsOAuth,n=t.currentVersion,\"multitenant\"===t.portalMode&&(o=t.customBaseUrl)),e.sinfo_.webTierAuth=!!r,r&&this.normalizeWebTierAuth?this.generateToken(e.sinfo_,null,{ssl:s.allSSL}).catch((()=>null)).then((e=>(s.portalToken=e&&e.token,s.tokenExpiration=e&&e.expires,s))):!r&&i&&parseFloat(n)>=4.4&&!this._findOAuthInfo(e.resUrl_)?this._generateOAuthInfo({portalUrl:e.sinfo_.server,customBaseUrl:o,owningTenant:e.sinfo_._selfReq.owningTenant}).catch((()=>null)).then((()=>s)):s})).catch((()=>null)).then((t=>{e.sinfo_._selfReq=null,t?r(t.username,t.allSSL,t.portalToken,t.tokenExpiration):r()})):r()}_generateOAuthInfo(e){let t,s,i=e.portalUrl;const n=e.customBaseUrl,o=e.owningTenant,a=!this.defaultOAuthInfo&&this._createDefaultOAuthInfo&&!this._hasTestedIfAppIsOnPortal;if(a){s=window.location.href;let e=s.indexOf(\"?\");e>-1&&(s=s.slice(0,e)),e=s.search(/\\/(apps|home)\\//),s=e>-1?s.slice(0,e):null}return a&&s?(this._hasTestedIfAppIsOnPortal=!0,t=r(s+\"/sharing/rest\",{query:{f:\"json\"}}).then((()=>{this.defaultOAuthInfo=new U({appId:\"arcgisonline\",popupCallbackUrl:s+\"/home/oauth-callback.html\"})}))):t=Promise.resolve(),t.then((()=>{if(this.defaultOAuthInfo)return i=i.replace(/^http:/i,\"https:\"),r(i+\"/sharing/rest/oauth2/validateRedirectUri\",{query:{accountId:o,client_id:this.defaultOAuthInfo.appId,redirect_uri:v(this.defaultOAuthInfo.popupCallbackUrl),f:\"json\"}}).then((e=>{if(e.data.valid){const t=this.defaultOAuthInfo.clone();e.data.urlKey&&n?t.portalUrl=\"https://\"+e.data.urlKey.toLowerCase()+\".\"+n:t.portalUrl=i,t.popup=window!==window.top||!(_(i,this._appOrigin)||this._gwDomains.some((e=>e.regex.test(i)&&e.regex.test(this._appOrigin)))),this.oAuthInfos.push(t)}}))}))}_doOAuthSignIn(e,t,s){const r={portalUrl:s.portalUrl};!s.popup&&s.preserveUrlHash&&window.location.hash&&(r.hash=window.location.hash);const n={client_id:s.appId,response_type:\"token\",state:JSON.stringify(r),expiration:s.expiration,locale:s.locale,redirect_uri:s.popup?v(s.popupCallbackUrl):window.location.href.replace(/#.*$/,\"\")};s.forceLogin&&(n.force_login=!0),s.forceUserId&&s.userId&&(n.prepopulatedusername=s.userId),!s.popup&&this._doPortalSignIn(e)&&(n.redirectToUserOrgUrl=!0);const a=s.portalUrl.replace(/^http:/i,\"https:\")+\"/sharing/oauth2/authorize\",h=a+\"?\"+S(n);if(s.popup){const e=window.open(h,\"esriJSAPIOAuth\",s.popupWindowFeatures);if(e)e.focus(),this._oAuthDfd.oAuthWin_=e,this._oAuthIntervalId=setInterval((()=>{if(e.closed){clearInterval(this._oAuthIntervalId),this._oAuthOnHashHandle.remove();const e=this._oAuthDfd;if(e){const t=new i(\"identity-manager:user-aborted\",\"ABORTED\");e.reject(t)}}}),500),this._oAuthOnHashHandle=o(window,\"arcgis:auth:hash\",(e=>{this.setOAuthResponseHash(e.detail)}));else{const e=new i(\"identity-manager:popup-blocked\",\"ABORTED\");this._oAuthDfd.reject(e)}}else this._rejectOnPersistedPageShow=!0,this._oAuthRedirectFunc?this._oAuthRedirectFunc({authorizeParams:n,authorizeUrl:a,resourceUrl:e,serverInfo:t,oAuthInfo:s}):window.location.href=h}}C.prototype.declaredClass=\"esri.identity.IdentityManagerBase\";let D=class extends n.EventedAccessor{constructor(e){super(e),this._oAuthCred=null,this.tokenRefreshBuffer=2,e&&e._oAuthCred&&(this._oAuthCred=e._oAuthCred)}initialize(){this.resources=this.resources||[],null==this.creationTime&&(this.creationTime=Date.now())}refreshToken(){const e=s.findServerInfo(this.server),t=e&&e.owningSystemUrl,r=!!t&&\"server\"===this.scope,i=r&&R(e,s._legacyFed),n=e.webTierAuth,o=n&&s.normalizeWebTierAuth,a=T[this.server],h=a&&a[this.userId];let l,c=this.resources&&this.resources[0],d=r&&s.findServerInfo(t),u={username:this.userId,password:h};if(n&&!o)return;r&&!d&&s.serverInfos.some((e=>(s._isIdProvider(t,e.server)&&(d=e),!!d)));const p=d&&s.findCredential(d.server,this.userId);if(!r||p){if(!i){if(r)l={serverUrl:c,token:p&&p.token,ssl:p&&p.ssl};else if(o)u=null,l={ssl:this.ssl};else{if(!h){let t;return c&&(c=s._sanitizeUrl(c),this._enqueued=1,t=s._enqueue(c,e,null,null,this.isAdmin,this),t.then((()=>{this._enqueued=0,this.refreshServerTokens()})).catch((()=>{this._enqueued=0}))),t}this.isAdmin&&(l={isAdmin:!0})}return s.generateToken(r?d:e,r?null:u,l).then((e=>{this.token=e.token,this.expires=null!=e.expires?Number(e.expires):null,this.creationTime=Date.now(),this.validity=e.validity,this.emitTokenChange(),this.refreshServerTokens()})).catch((()=>{}))}p.refreshToken()}}refreshServerTokens(){\"portal\"===this.scope&&s.credentials.forEach((e=>{const t=s.findServerInfo(e.server),r=t&&t.owningSystemUrl;e!==this&&e.userId===this.userId&&r&&\"server\"===e.scope&&(s._hasSameServerInstance(this.server,r)||s._isIdProvider(r,this.server))&&(R(t,s._legacyFed)?(e.token=this.token,e.expires=this.expires,e.creationTime=this.creationTime,e.validity=this.validity,e.emitTokenChange()):e.refreshToken())}))}emitTokenChange(e){clearTimeout(this._refreshTimer);const t=this.server&&s.findServerInfo(this.server),r=t&&t.owningSystemUrl,i=r&&s.findServerInfo(r);!1===e||r&&\"portal\"!==this.scope&&(!i||!i.webTierAuth||s.normalizeWebTierAuth)||null==this.expires&&null==this.validity||this._startRefreshTimer(),this.emit(\"token-change\")}destroy(){this.userId=this.server=this.token=this.expires=this.validity=this.resources=this.creationTime=null,this._oAuthCred&&(this._oAuthCred.destroy(),this._oAuthCred=null);const e=s.credentials.indexOf(this);e>-1&&s.credentials.splice(e,1),this.emitTokenChange(),this.emit(\"destroy\")}toJSON(){const e=a({userId:this.userId,server:this.server,token:this.token,expires:this.expires,validity:this.validity,ssl:this.ssl,isAdmin:this.isAdmin,creationTime:this.creationTime,scope:this.scope}),t=this.resources;return t&&t.length>0&&(e.resources=t.slice()),e}_startRefreshTimer(){clearTimeout(this._refreshTimer);const e=6e4*this.tokenRefreshBuffer,t=2**31-1;let s=(this.validity?this.creationTime+6e4*this.validity:this.expires)-Date.now();s<0?s=0:s>t&&(s=t),this._refreshTimer=setTimeout(this.refreshToken.bind(this),s>e?s-e:s)}};e([w()],D.prototype,\"creationTime\",void 0),e([w()],D.prototype,\"expires\",void 0),e([w()],D.prototype,\"isAdmin\",void 0),e([w()],D.prototype,\"oAuthState\",void 0),e([w()],D.prototype,\"resources\",void 0),e([w()],D.prototype,\"scope\",void 0),e([w()],D.prototype,\"server\",void 0),e([w()],D.prototype,\"ssl\",void 0),e([w()],D.prototype,\"token\",void 0),e([w()],D.prototype,\"tokenRefreshBuffer\",void 0),e([w()],D.prototype,\"userId\",void 0),e([w()],D.prototype,\"validity\",void 0),D=e([I(\"esri.identity.Credential\")],D);export{D as Credential,C as IdentityManagerBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{setId as e}from\"../kernel.js\";import{IdentityManagerBase as t}from\"./IdentityManagerBase.js\";class r extends t{}r.prototype.declaredClass=\"esri.identity.IdentityManager\";const s=new r;e(s);export{s as default};\n"],"names":["a","p","s","e","_usernameInputNode","_passwordInputNode","messages","signingIn","server","resource","error","oAuthPrompt","this","t","o","n","d","u","class","r","oAuthInfo","info","test","lblItem","c","key","lblUser","value","required","autocomplete","spellcheck","type","bind","afterCreate","i","m","lblPwd","h","classes","disabled","lblSigning","lblOk","lblCancel","onclick","_cancel","g","details","httpStatus","invalidUser","noAuthService","onsubmit","_submit","_set","emit","preventDefault","username","password","prototype","candidateSelectors","candidateSelector","join","matches","Element","msMatchesSelector","webkitMatchesSelector","getCandidates","el","includeContainer","filter","candidates","Array","slice","apply","querySelectorAll","call","unshift","getTabindex","node","tabindexAttr","parseInt","getAttribute","isNaN","contentEditable","isContentEditable","nodeName","tabIndex","sortOrderedTabbables","b","documentOrder","isInput","tagName","isNonTabbableRadio","isRadio","name","radioSet","radioScope","form","ownerDocument","queryRadios","window","CSS","escape","err","console","message","checked","nodes","length","getCheckedRadio","isTabbableRadio","isNodeMatchingSelectorFocusable","options","isHiddenInput","displayCheck","getComputedStyle","visibility","nodeUnderDetails","parentElement","getBoundingClientRect","width","height","display","isHidden","children","some","child","isDetailsWithSummary","parentNode","item","contains","isDisabledFromFieldset","isNodeMatchingSelectorTabbable","isTabbable","Error","focusableCandidateSelector","concat","isFocusable","activeFocusTraps","trapQueue","activateTrap","trap","activeTrap","pause","trapIndex","indexOf","splice","push","deactivateTrap","unpause","delay","fn","setTimeout","findIndex","arr","idx","every","valueOrHandler","params","arguments","getActualTarget","event","target","shadowRoot","composedPath","createFocusTrap","elements","userOptions","doc","document","config","returnFocusOnDeactivate","escapeDeactivates","delayInitialFocus","state","containers","tabbableGroups","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","active","paused","delayInitialFocusTimer","undefined","getOption","configOverrideOptions","optionName","configOptionName","containersContain","element","container","getNodeForOption","optionValue","querySelector","getInitialFocusNode","activeElement","firstTabbableGroup","firstTabbableNode","updateTabbableNodes","map","tabbableNodes","regularTabbables","orderedTabbables","forEach","candidate","candidateTabindex","sort","tabbable","focusableNodes","lastTabbableNode","nextTabbableNode","forward","nodeIdx","find","reverse","group","tryFocus","focus","preventScroll","toLowerCase","select","isSelectableInput","getReturnFocusNode","previousActiveElement","checkPointerDown","clickOutsideDeactivates","deactivate","returnFocus","allowOutsideClick","checkFocusIn","targetContained","Document","stopImmediatePropagation","checkKey","keyCode","isEscapeEvent","isTabEvent","destinationNode","containerIndex","containerGroup","shiftKey","startOfGroupIndex","destinationGroupIndex","lastOfGroupIndex","checkTab","checkClick","addListeners","addEventListener","capture","passive","removeListeners","removeEventListener","activate","activateOptions","onActivate","onPostActivate","checkCanFocusTrap","finishActivation","then","deactivateOptions","clearTimeout","onDeactivate","onPostDeactivate","checkCanReturnFocus","finishDeactivation","updateContainerElements","containerElements","elementsAsArray","Boolean","l","createElement","content","open","_close","body","appendChild","own","watch","_toggleFocusTrap","_destroyFocusTrap","id","title","close","role","_createFocusTrap","_renderContent","_focusTrap","requestAnimationFrame","initialFocus","cancelAnimationFrame","innerHTML","render","HTMLElement","_attachToNode","readOnly","aliasOf","storage","appId","expires","ssl","token","userId","_init","Date","now","minTimeUntilExpiration","_load","authNamespace","portalUrl","setItem","JSON","stringify","log","replace","FormData","append","navigator","sendBeacon","XMLHttpRequest","send","_oAuthCred","getItem","parse","declaredClass","expiration","forceLogin","forceUserId","locale","popup","popupCallbackUrl","popupWindowFeatures","preserveUrlHash","fromJSON","toJSON","json","write","adminTokenServiceUrl","currentVersion","hasPortal","hasServer","owningSystemUrl","owningTenant","shortLivedTokenValidity","tokenServiceUrl","webTierAuth","T","O","host","R","P","localStorage","sessionStorage","C","_portalConfig","globalThis","esriGeowConfig","serverInfos","oAuthInfos","credentials","_soReqs","_xoReqs","_portals","defaultOAuthInfo","defaultTokenValidity","dialog","formConstructor","k","tokenValidity","normalizeWebTierAuth","_appOrigin","origin","location","_appUrlObj","href","_busy","_rejectOnPersistedPageShow","_oAuthHash","_gwTokenUrl","_agsRest","_agsPortal","_agsAdmin","_adminSvcs","_gwDomains","regex","customBaseUrl","_legacyFed","_regexSDirUrl","_regexServerType","_gwUser","_gwItem","_gwGroup","_rePortalTokenSvc","_createDefaultOAuthInfo","_hasTestedIfAppIsOnPortal","_getOAuthHash","_pageShowHandler","findServerInfo","findOAuthInfo","_sanitizeUrl","_isServerRsrc","x","_getServerInstanceRoot","_getTokenSvcUrl","registerServers","_findCredential","Object","assign","D","scope","resources","emitTokenChange","refreshServerTokens","U","registerOAuthInfos","_hasSameServerInstance","_getIdenticalSvcIdx","prompt","AbortController","signal","abort","reject","promise","_isAdminResource","findCredential","destroy","resolve","f","_restInfoPms","_selfReq","_","selfDfd","_getPortalSelf","_enqueue","_isRESTService","isAdmin","serverUrl","customParameters","scheme","uri","port","v","query","request","referer","client","method","authMode","useProxy","_useProxy","ioArgs","withCredentials","data","validity","checkAppAccess","credential","getCredential","_doPortalSignIn","force","client_id","valid","viewOnlyUserTypeApp","catch","viewOnly","_oAuthDfd","clearInterval","_oAuthIntervalId","_oAuthOnHashHandle","remove","charAt","substring","error_description","sinfo_","oinfo_","access_token","Number","expires_in","persist","save","_oAuthRedirectFunc","_protocolFunc","getResourceName","A","on","generateToken","oAuthWin_","closed","resUrl_","oAuthPopupConfirmation","_doOAuthSignIn","_postMessageAuthHandle","endsWith","source","postMessage","hash","hasOwnProperty","persisted","isBusy","_errbackFunc","_addResource","_removeResource","_isIdProvider","_isPortalDomain","String","search","substr","_normalizeAGOLorgDomain","path","_getSuffix","restBaseUrl","_isIdenticalService","adminUrl","_getOrigin","headers","Promise","allSSL","portalMode","supportsOAuth","startsWith","trim","resourceUrl","serverInfo","options_","admin_","refresh_","_doSignIn","creationTime","shift","_findOAuthInfo","parent","y","isValid","_pendingDfd","_exchangeToken","oAuthState","oAuthSignIn","_getPlatformSelf","_checkProtocol","signIn","user","portalToken","tokenExpiration","parseFloat","_generateOAuthInfo","accountId","redirect_uri","clone","urlKey","top","response_type","force_login","prepopulatedusername","redirectToUserOrgUrl","S","setInterval","setOAuthResponseHash","detail","authorizeParams","authorizeUrl","tokenRefreshBuffer","_enqueued","refreshToken","_refreshTimer","_startRefreshTimer","w","I"],"sourceRoot":""}