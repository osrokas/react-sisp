"use strict";(self.webpackChunkreact_sisp=self.webpackChunkreact_sisp||[]).push([[5886],{35886:function(t,e,n){n.r(e),n.d(e,{loadGLTFMesh:function(){return E}});var r=n(37762),o=n(15861),a=n(87757),u=n(51995),c=n(76200),s=n(77427),i=n(92026),l=n(22753),f=n(11873),p=n(71353),m=n(67077),d=n(64995),g=n(11587),v=n(79694),C=n(27474),x=n(25158),h=n(32035),w=n(19093),y=n(17054),b=n(57898),A=n(27053),S=n(56474),M=n(32315),Z=n(46962),k=n(68845),B=n(92770),T=n(69618),F=n(19131);function E(t,e,n){return W.apply(this,arguments)}function W(){return(W=(0,o.Z)(a.mark((function t(e,n,o){var u,c,s,l,f,p,m,d,g,v,x,h,w,y,M,Z,k;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=new A.C(R(o)),t.next=3,(0,S.z)(u,n,o,!0);case 3:c=t.sent.model,s=c.lods.shift(),l=new Map,f=new Map,c.textures.forEach((function(t,e){return l.set(e,I(t))})),c.materials.forEach((function(t,e){return f.set(e,L(t,l))})),p=D(s),m=(0,r.Z)(p.parts);try{for(m.s();!(d=m.n()).done;)g=d.value,N(p,g,f)}catch(a){m.e(a)}finally{m.f()}return v=p.vertexAttributes,x=v.position,h=v.normal,w=v.tangent,y=v.color,M=v.texCoord0,Z={position:x.typedBuffer,normal:(0,i.pC)(h)?h.typedBuffer:null,tangent:(0,i.pC)(w)?w.typedBuffer:null,uv:(0,i.pC)(M)?M.typedBuffer:null,color:(0,i.pC)(y)?y.typedBuffer:null},k=(0,b.w1)(Z,e,o),t.abrupt("return",{transform:k.transform,components:p.components,spatialReference:e.spatialReference,vertexAttributes:new C.ZP({position:k.vertexAttributes.position,normal:k.vertexAttributes.normal,tangent:k.vertexAttributes.tangent,color:Z.color,uv:Z.uv})});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function R(t){return null!=t&&t.resolveFile?{busy:!1,request:function(){var e=(0,o.Z)(a.mark((function e(n,r,o){var u,s;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.resolveFile(n),s="image"===r?"image":"binary"===r?"array-buffer":"json",e.next=3,(0,c.default)(u,{responseType:s,signal:(0,i.pC)(o)?o.signal:null});case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}:null}function z(t,e){if((0,i.Wi)(t))return"-";var n=t.typedBuffer;return"".concat((0,s.s1)(e,n.buffer,(function(){return e.size})),"/").concat(n.byteOffset,"/").concat(n.byteLength)}function D(t){var e,n=0,o={color:!1,tangent:!1,normal:!1,texCoord0:!1},a=new Map,u=new Map,c=[],l=(0,r.Z)(t.parts);try{var f=function(){var t=e.value,r=t.attributes,l=r.position,f=r.normal,p=r.color,m=r.tangent,d=r.texCoord0,g="\n      ".concat(z(l,a),"/\n      ").concat(z(f,a),"/\n      ").concat(z(p,a),"/\n      ").concat(z(m,a),"/\n      ").concat(z(d,a),"/\n      ").concat(function(t){return(0,i.pC)(t)?t.toString():"-"}(t.transform),"\n    "),v=!1,C=(0,s.s1)(u,g,(function(){return v=!0,{start:n,length:l.count}}));v&&(n+=l.count),f&&(o.normal=!0),p&&(o.color=!0),m&&(o.tangent=!0),d&&(o.texCoord0=!0),c.push({gltf:t,writeVertices:v,region:C})};for(l.s();!(e=l.n()).done;)f()}catch(p){l.e(p)}finally{l.f()}return{vertexAttributes:{position:(0,y.gS)(x.fP,n),normal:o.normal?(0,y.gS)(x.ct,n):null,tangent:o.tangent?(0,y.gS)(x.ek,n):null,color:o.color?(0,y.gS)(x.mc,n):null,texCoord0:o.texCoord0?(0,y.gS)(x.Eu,n):null},parts:c,components:[]}}function I(t){return new v.Z({data:t.data,wrap:P(t.parameters.wrap)})}function L(t,e){var n,r=new u.Z(function(t,e){return(0,m.f)(q(t[0]),q(t[1]),q(t[2]),e)}(t.color,t.opacity)),o=t.emissiveFactor?new u.Z((n=t.emissiveFactor,(0,p.f)(q(n[0]),q(n[1]),q(n[2])))):null;return new g.Z({color:r,colorTexture:(0,i.Wg)((0,i.yw)(t.textureColor,(function(t){return e.get(t)}))),normalTexture:(0,i.Wg)((0,i.yw)(t.textureNormal,(function(t){return e.get(t)}))),emissiveColor:o,emissiveTexture:(0,i.Wg)((0,i.yw)(t.textureEmissive,(function(t){return e.get(t)}))),occlusionTexture:(0,i.Wg)((0,i.yw)(t.textureOcclusion,(function(t){return e.get(t)}))),alphaMode:O(t.alphaMode),alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,metallic:t.metallicFactor,roughness:t.roughnessFactor,metallicRoughnessTexture:(0,i.Wg)((0,i.yw)(t.textureMetallicRoughness,(function(t){return e.get(t)})))})}function N(t,e,n){e.writeVertices&&function(t,e){var n=t.vertexAttributes,r=n.position,o=n.normal,a=n.tangent,u=n.color,c=n.texCoord0,s=e.region.start,p=e.gltf,m=p.attributes,d=p.transform,g=m.position.count;if((0,h.t)(r.slice(s,g),m.position,d),(0,i.pC)(m.normal)&&(0,i.pC)(o)){var v=(0,l.a)((0,f.c)(),d);(0,h.a)(o.slice(s,g),m.normal,v)}else(0,i.pC)(o)&&(0,B.f)(o,0,0,1,{dstIndex:s,count:g});if((0,i.pC)(m.tangent)&&(0,i.pC)(a)){var C=(0,l.a)((0,f.c)(),d);(0,w.t)(a.slice(s,g),m.tangent,C)}else(0,i.pC)(a)&&(0,T.f)(a,0,0,1,1,{dstIndex:s,count:g});if((0,i.pC)(m.texCoord0)&&(0,i.pC)(c)?(0,F.n)(c.slice(s,g),m.texCoord0):(0,i.pC)(c)&&(0,F.f)(c,0,0,{dstIndex:s,count:g}),(0,i.pC)(m.color)&&(0,i.pC)(u)){var y=m.color,b=u.slice(s,g);if(4===y.elementCount)y instanceof x.ek?(0,w.s)(b,y,255):y instanceof x.mc?(0,T.c)(b,y):y instanceof x.v6&&(0,w.a)(b,y,8);else{(0,T.f)(b,255,255,255,255);var A=x.ne.fromTypedArray(b.typedBuffer,b.typedBufferStride);y instanceof x.ct?(0,h.s)(A,y,255):y instanceof x.ne?(0,B.c)(A,y):y instanceof x.mw&&(0,h.b)(A,y,8)}}else(0,i.pC)(u)&&(0,T.f)(u.slice(s,g),255,255,255,255)}(t,e);var r=e.gltf,o=function(t,e){switch(e){case 4:return(0,M.nh)(t,Z.DX);case 5:return(0,M.DA)(t);case 6:return(0,M.jX)(t)}}(r.indices||r.attributes.position.count,r.primitiveType),a=e.region.start;if(a)for(var u=0;u<o.length;u++)o[u]+=a;t.components.push(new d.Z({faces:o,material:n.get(r.material),trustSourceNormals:!0}))}function O(t){switch(t){case"OPAQUE":return"opaque";case"MASK":return"mask";case"BLEND":return"blend"}}function P(t){return{horizontal:j(t.s),vertical:j(t.t)}}function j(t){switch(t){case 33071:return"clamp";case 33648:return"mirror";case 10497:return"repeat"}}function q(t){return 255*Math.pow(t,1/k.K)}}}]);
//# sourceMappingURL=5886.bf304ea4.chunk.js.map